<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">getServerEndPoint</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgYyA9IHBpcGVsaW5lLmdldEN1cnNvcigpOwoKaWYgKFN5c3RlbS5nZXRlbnYo
ImFwaV9zZXJ2ZXJfdXJsIikgIT0gbnVsbCAmJiBTeXN0ZW0uZ2V0ZW52KCJhcGlfc2VydmVyX3Vy
bCIpLmxlbmd0aCgpID4gMCkgewoJU3RyaW5nIHVybCA9IFN5c3RlbS5nZXRlbnYoImFwaV9zZXJ2
ZXJfdXJsIik7CglTdHJpbmcgc2VydmVyID0gbnVsbDsKCVN0cmluZyBwb3J0ID0gbnVsbDsKCVN0
cmluZyBwcmVmaXggPSAiaHR0cDovLyI7CgkKCWlmICh1cmwuc3RhcnRzV2l0aCgiaHR0cCIpKSB7
CgkJaWYgKHVybC5jaGFyQXQoNCkgPT0gJ3MnKSB7CgkJCXNlcnZlciA9IHVybC5zdWJzdHJpbmco
OCk7CgkJCXByZWZpeCA9ICJodHRwczovLyI7CgkJfSBlbHNlIHsKCQkJc2VydmVyID0gdXJsLnN1
YnN0cmluZyg3KTsKCQkJcHJlZml4ID0gImh0dHA6Ly8iOwoJCX0KCX0gZWxzZSB7CgkJcHJlZml4
ID0gImh0dHA6Ly8iOwoJCXNlcnZlciA9IHVybDsKCX0KCQoJaWYgKHNlcnZlci5jb250YWlucygi
OiIpKSB7CgkJaW50IGluZGV4ID0gc2VydmVyLmluZGV4T2YoIjoiKTsKCQlwb3J0ID0gc2VydmVy
LnN1YnN0cmluZyhpbmRleCsxKTsKCQlzZXJ2ZXIgPSBzZXJ2ZXIuc3Vic3RyaW5nKDAsIGluZGV4
KTsKCX0KCQoJSURhdGFVdGlsLnB1dChjLCAiaHR0cFByZWZpeCIsIHByZWZpeCk7CglJRGF0YVV0
aWwucHV0KGMsICJzZXJ2ZXIiLCBzZXJ2ZXIpOwoJCglpZiAocG9ydCAhPSBudWxsKQoJCUlEYXRh
VXRpbC5wdXQoYywgInByaW1hcnlQb3J0IiwgcG9ydCk7CgkKfSBlbHNlIHsKCUlEYXRhVXRpbC5w
dXQoYywgInNlcnZlciIsIENvbmZpZy5nZXRQcm9wZXJ0eShTZXJ2ZXJBUEkuZ2V0U2VydmVyTmFt
ZSgpLCAid2F0dC5uZXQubG9jYWxob3N0IikpOwoKCUlEYXRhVXRpbC5wdXQoYywgImh0dHBQcmVm
aXgiLCAiaHR0cDovLyIpOwoJCglpbnQgcG9ydCA9IFNlcnZlckFQSS5nZXRDdXJyZW50UG9ydCgp
OwoJCglpZiAocG9ydCA9PSAtMSkKCQlwb3J0ID0gNTU1NTsKCQoJSURhdGFVdGlsLnB1dChjLCAi
cHJpbWFyeVBvcnQiLCBDb25maWcuZ2V0UHJvcGVydHkoIiIgKyBwb3J0LCAid2F0dC5zZXJ2ZXIu
cG9ydCIpKTsKfQoKaWYgKFN5c3RlbS5nZXRlbnYoImFwaV9zZXJ2ZXJfdXNlciIpICE9IG51bGwp
IHsKCUlEYXRhVXRpbC5wdXQoYywgICJ1c2VyIiwgU3lzdGVtLmdldGVudigiYXBpX3NlcnZlcl91
c2VyIikpOwp9IGVsc2UgewoJSURhdGFVdGlsLnB1dChjLCAgInVzZXIiLCAiQWRtaW5pc3RyYXRv
ciIpOwp9CgppZiAoU3lzdGVtLmdldGVudigiYXBpX3NlcnZlcl9wYXNzd29yZCIpICE9IG51bGwp
IHsKCUlEYXRhVXRpbC5wdXQoYywgICJwYXNzd29yZCIsIFN5c3RlbS5nZXRlbnYoImFwaV9zZXJ2
ZXJfcGFzc3dvcmQiKSk7Cn0gZWxzZSB7CglJRGF0YVV0aWwucHV0KGMsICAicGFzc3dvcmQiLCAi
bWFuYWdlIik7Cn0KCmMuZGVzdHJveSgpOw==</value>
</Values>
